!function(){"use strict";var e=(e,n)=>{const a=document.querySelector(n).querySelectorAll(".accordion__btn"),t=document.querySelectorAll(".accordion__item"),s=document.querySelectorAll(".accordion__content"),i=e=>{const n=e.closest(".accordion__item"),a=n.querySelector(".accordion__content");return{currentItem:n,currentContent:a}};console.log("hello from accordeon"),a.forEach((n=>n.addEventListener("click",(a=>((n,a)=>{switch(e){case"only":((e,n)=>{e.preventDefault();const{currentItem:a,currentContent:c}=i(n);a.classList.contains("active")?(a.classList.remove("active"),c.style.maxHeight=0):(t.forEach((e=>e.classList.remove("active"))),s.forEach((e=>e.style.maxHeight=0)),a.classList.add("active"),c.style.maxHeight=c.scrollHeight+"px"),console.log(c)})(n,a);break;case"many":((e,n)=>{e.preventDefault();const{currentItem:a,currentContent:t}=i(n);if(e.target.closest("a")&&e.target.closest("a").dataset){const n=e.target.closest("a").dataset;if("edit"===n.btn||"remove"===n.btn)return n.btn}a.classList.contains("active")?(a.classList.remove("active"),t.style.maxHeight=0,a.querySelector(".expand-icon")?.classList.remove("expand-icon--active")):(a.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px",a.querySelector(".expand-icon")?.classList.add("expand-icon--active"))})(n,a)}})(a,n)))))},n=JSON.parse('[{"id":"1","name":"Для Женщин","img":"01.jpeg","subCats":[{"id":"-1","name":"Все категории","icon":"category_all","subSubCats":[]},{"id":"7","name":"Сумки","icon":"bag","subSubCats":[{"id":"22","name":"Рюкзак"},{"id":"23","name":"Клатч"},{"id":"24","name":"Портмоне"}]},{"id":"8","name":"Очки","icon":"glasses","subSubCats":[{"id":"32","name":"Авиаторы"},{"id":"33","name":"Круглые"},{"id":"34","name":"Коллекционные"}]},{"id":"9","name":"Часы","icon":"watch","subSubCats":[{"id":"42","name":"На ремешке"},{"id":"43","name":"Металлические"},{"id":"34","name":"С драгоценными вставками"}]},{"id":"10","name":"Бижутерия","icon":"earrings","subSubCats":[{"id":"52","name":"Кольца"},{"id":"53","name":"Колье"},{"id":"54","name":"Серьги"}]},{"id":"11","name":"Косметика","icon":"cosmetics","subSubCats":[{"id":"62","name":"Крем"},{"id":"63","name":"Тушь"},{"id":"64","name":"Помада"}]}]},{"id":"2","name":"Для Мужчин","img":"02.jpeg","subCats":[{"id":"-1","name":"Все категории","icon":"category_all","subSubCats":[]},{"id":"13","name":"Очки","icon":"glasses_men","subSubCats":[{"id":"92","name":"Авиаторы"},{"id":"93","name":"Круглые"},{"id":"94","name":"Коллекционные"}]},{"id":"14","name":"Часы","icon":"watch_man","subSubCats":[{"id":"102","name":"На ремешке"},{"id":"103","name":"Металлические"},{"id":"104","name":"Карманные"}]},{"id":"15","name":"Ремни","icon":"belt","subSubCats":[{"id":"112","name":"Кожанные"},{"id":"113","name":"Классика"},{"id":"114","name":"Разные"}]},{"id":"16","name":"Галстуки","icon":"necktie","subSubCats":[{"id":"122","name":"Классика"},{"id":"123","name":"Шёлковые"},{"id":"124","name":"Бабочка"}]},{"id":"17","name":"Сумки","icon":"suitcase","subSubCats":[{"id":"132","name":"Рюкзак"},{"id":"133","name":"На плечо"},{"id":"134","name":"Дипломат"}]}]},{"id":"3","name":"Для Детей","img":"03.jpeg","subCats":[{"id":"-1","name":"Все категории","icon":"category_all","subSubCats":[]},{"id":"18","name":"Игрушки","icon":"toy","subSubCats":[{"id":"71","name":"Мягкие"},{"id":"75","name":"Пластмассовые"},{"id":"76","name":"Деревянные"}]}]}]'),a=a=>{const t=JSON.parse(JSON.stringify(n)),s=document.querySelector(a),i=(e,n,a)=>`\n      <a href="${e}" class="category-block__link" data-btn="${n}"">\n        <svg class="icon icon--${a}">\n          <use href="./img/svgsprite/sprite.symbol.svg#${a}"></use>\n        </svg>\n      </a>\n    `,c=t.map((e=>(e=>{const n=(a=e.subCats,e.id,a.map((e=>{if("Все категории"!==e.name)return`\n        <li class="catalog-list__sublist__item" data-id="${e.id}">\n          <button type="button" class="category-block category-block--sublist">\n            <span class="category-block__text text-ellipsis">\n            ${e.name}\n              \x3c!-- <span class="category-block__counter">(5)</span> --\x3e\n            </span>\n            <span class="category-block__action-links">\n              ${i("#","edit","edit")}\n              ${i("#","remove","remove")}\n            </span>\n          </button>\n        </li>\n      `})).join(""));var a;return`\n     <li class="catalog-list__item accordion__item text-ellipsis" data-id="${e.id}">\n          <button type="button" class="category-block accordion__btn" title="Открыть категорию ${e.name}">\n            <span class="expand-icon">\n              <span class="expand-icon__body"></span>\n            </span>\n            <span class="category-block__text text-ellipsis">\n              ${e.name}\n              \x3c!-- <span class="category-block__counter">(5)</span> --\x3e\n            </span>\n            <span class="category-block__action-links">\n              ${i("edit.php","edit","edit")}\n              ${i("delete.php","remove","remove")}\n            </span>\n          </button>\n          ${n.length?`<ul class="catalog-list__sublist accordion__content">${n}</ul>`:""}\n        </li>\n    `})(e))).join("");s.insertAdjacentHTML("beforeend",c),s.querySelectorAll(".category-block__action-links").forEach((e=>{e.addEventListener("click",(e=>{const n=e.target.closest("[data-btn]");if(!n)return;const a=n.dataset.btn,s=(n.dataset.parentId,n.closest(".accordion__item")),i=n.closest(".catalog-list__sublist__item");let c;s&&(c=t.find((e=>e.id==s.dataset.id))),i&&(c=t.find((e=>e.id==i.dataset.id))),a&&"edit"===a&&(console.log("clicked edit"),console.log(e.target.closest(".accordion__item").dataset.id)),a&&"remove"===a&&(console.log("clicked remove"),console.log(e.target.closest(".accordion__item").dataset.id))}))})),setTimeout((()=>e("many",a)),.1)},t=JSON.parse('[{"cat":"Админ панель","icon":"inbox","subCat":[]},{"cat":"Каталог","icon":"catalog","subCat":[]},{"cat":"Магазин","icon":"shop","subCat":["Добавить товар","Все товары","Все бренды","Все категории","Заказы"]},{"cat":"Сообщения","icon":"mail","subCat":[]},{"cat":"Страницы","icon":"file","subCat":["Главная","Контакты"]},{"cat":"Настройки","icon":"settings","subCat":[]},{"cat":"Мой профиль","icon":"user","subCat":[]},{"cat":"Выход","icon":"log-out","subCat":[]}]'),s=()=>{const e=JSON.parse(JSON.stringify(n));!function(){let e={Android:function(){return console.log(navigator.userAgent),navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iOS/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}},n=document.querySelector("body");if(e.any()){n.classList.add("touch");let e=document.querySelectorAll(".arrow");for(let n=0;n<e.length;n++){let a=e[n].previousElementSibling,t=e[n].nextElementSibling,s=e[n];a.classList.add("parent"),e[n].addEventListener("click",(function(){t.classList.toggle("open"),s.classList.toggle("active")}))}}else n.classList.add("mouse")}();const a=document.querySelector("#nav"),t=a.querySelector("#nav__list"),s=document.querySelector(".catalog-dropdown__background");if(!a||!t||!s)return;const i=e=>{e.querySelectorAll(".sub-nav").forEach((e=>e.remove()))};if(!t)return;t.innerHTML=e.map((e=>`\n      <li\n        id="${e.id}"\n        class="nav__block"\n        role="tab"\n        area-selected="false"\n        tabindex="0"\n      >\n      <div class="nav__item">\n        <span class="nav__title">${e.name}</span>\n      </div>\n\n    </li>\n    `)).join(" ");const c=t.querySelectorAll(".nav__block");c&&c.forEach((n=>n.addEventListener("mouseenter",(()=>(n=>{const c=n.id,o=e.find((e=>e.id===c));if(!o)return;i(t),n.insertAdjacentHTML("beforeend",'\n    <div class="sub-nav">\n      <div class="sub-nav__container container">\n        <ul class="sub-nav__list"></ul>\n        <div class="sub-nav__line-separator"></div>\n        <ul class="sub-sub-nav__list"></ul>\n      </div>\n\n    </div>\n  ');const l=n.querySelector(".sub-nav__list"),r=n.querySelector(".sub-sub-nav__list");l.innerHTML=o.subCats.map((e=>`\n      <li class="sub-nav__item">\n        <svg class="sub-nav__icon icon icon--${e.icon}">\n          <use href="./img/svgsprite/sprite.symbol.svg#${e.icon}"></use>\n        </svg>\n        <a href="#" class="sub-nav__link" data-cat="${e.id}">\n          ${e.name}\n        </a>\n        <div class="nav__arrow">\n          <div class="arrow"></div>\n        </div>\n      </li>\n      `)).join(""),s.classList.add("active"),a.addEventListener("mouseleave",(()=>{i(t),s.classList.remove("active")})),l.querySelectorAll("li").forEach((e=>e.addEventListener("mouseenter",(e=>((e,n,a)=>{const t=e.target.querySelector("[data-cat]");if(!t)return;const s=t.dataset.cat,i=n.subCats.find((e=>e.id==s));e.target.closest("ul").querySelectorAll("li").forEach((e=>e.classList.remove("active"))),e.target.closest("li").classList.add("active"),a.innerHTML=i.subSubCats.map((e=>`\n      <li class="sub-sub-nav__item">\n        <a href="#" class="sub-sub-nav__link">\n          ${e.name}\n        </a>\n      </li>\n      `)).join("")})(e,o,r)))))})(n)))))};const i="/page-admin.html";document.addEventListener("DOMContentLoaded",(()=>{window.location.pathname!==i&&((()=>{const e=document.querySelector(".mobile-nav-btn"),n=document.querySelector(".mobile-nav"),a=document.querySelector(".nav-icon"),t=document.querySelector(".mobile-nav"),s=document.querySelector(".mobile-nav__list");console.log(t),console.log(s),e.onclick=()=>{n.classList.toggle("mobile-nav--open"),a.classList.toggle("nav-icon--active"),document.body.classList.toggle("no-scroll")},s.innerHTML=[{id:"1",name:"Для Женщин",subCats:[{id:"-1",name:"Все категории",icon:"category_all",subSubCats:[]},{id:"7",name:"Сумки",icon:"bag",subSubCats:[{id:"22",name:"Рюкзак"},{id:"23",name:"Клатч"},{id:"24",name:"Портмоне"}]},{id:"8",name:"Очки",icon:"glasses",subSubCats:[{id:"32",name:"Авиаторы"},{id:"33",name:"Круглые"},{id:"34",name:"Коллекционные"}]},{id:"9",name:"Часы",icon:"watch",subSubCats:[{id:"42",name:"На ремешке"},{id:"43",name:"Металлические"},{id:"34",name:"С драгоценными вставками"}]},{id:"10",name:"Бижутерия",icon:"earrings",subSubCats:[{id:"52",name:"Кольца"},{id:"53",name:"Колье"},{id:"54",name:"Серьги"}]},{id:"11",name:"Косметика",icon:"cosmetics",subSubCats:[{id:"62",name:"Крем"},{id:"63",name:"Тушь"},{id:"64",name:"Помада"}]}]},{id:"2",name:"Для Мужчин",subCats:[{id:"-1",name:"Все категории",icon:"category_all",subSubCats:[]},{id:"13",name:"Очки",icon:"glasses_men",subSubCats:[{id:"92",name:"Авиаторы"},{id:"93",name:"Круглые"},{id:"94",name:"Коллекционные"}]},{id:"14",name:"Часы",icon:"watch_man",subSubCats:[{id:"102",name:"На ремешке"},{id:"103",name:"Металлические"},{id:"104",name:"Карманные"}]},{id:"15",name:"Ремни",icon:"belt",subSubCats:[{id:"112",name:"Кожанные"},{id:"113",name:"Классика"},{id:"114",name:"Разные"}]},{id:"16",name:"Галстуки",icon:"necktie",subSubCats:[{id:"122",name:"Классика"},{id:"123",name:"Шёлковые"},{id:"124",name:"Бабочка"}]},{id:"17",name:"Сумки",icon:"suitcase",subSubCats:[{id:"132",name:"Рюкзак"},{id:"133",name:"На плечо"},{id:"134",name:"Дипломат"}]}]},{id:"3",name:"Для Детей",subCats:[{id:"-1",name:"Все категории",icon:"category_all",subSubCats:[]},{id:"18",name:"Игрушки",icon:"toy",subSubCats:[{id:"71",name:"Мягкие"},{id:"75",name:"Пластмассовые"},{id:"76",name:"Деревянные"}]}]}].map((e=>`\n      <li\n        id="${e.id}"\n        class="mobile-nav__item"\n        role="tab"\n        area-selected="false"\n        tabindex="0"\n      >\n      <a href="#" class="mobile-nav__link">\n        <svg class="mobile-nav__icon icon icon--${e.subCats[1].icon}">\n          <use href="./img/svgsprite/sprite.symbol.svg#${e.subCats[1].icon}"></use>\n        </svg> \n        <span class="mobile-nav__subtitle">${e.name}</span>\n      </a>\n\n    </li>\n    `)).join(" "),console.log("")})(),s()),"/shop-single.html"===window.location.pathname&&Fancybox.bind("[data-fancybox]",{Carousel:{transition:"slide",speed:400,thumbs:!1,decelFriction:.1},Images:{zoom:!1},showClass:"f-fadeIn"}),window.location.pathname===i&&((()=>{const n=JSON.parse(JSON.stringify(t)),a=document.querySelector("#sidebar-tab").querySelector(".sidebar__list"),s=n.map((e=>{let n=`\n            <li class="sidebar__list-item">\n              <button class="sidebar__list-button" title="Перейти в раздел '${(a=e).cat}'">\n                <div class="sidebar__list-img-wrapper">\n                  <img class="sidebar__list-img" src="./../../img/svgsprite/stack/svg/sprite.stack.svg#${a.icon}" alt="Админ панель" />\n                </div>\n                ${a.cat}\n              </button>\n            </li>\n          `;var a;return e.subCat.length>0&&(n=(e=>`\n            <li class="sidebar__list-item accordion__item">\n              <button href="?shop" class="sidebar__list-button accordion__btn" \n                title="Перейти страницу редактирования магазина"\n                data-name="accordeon-title">\n                <div class="sidebar__list-img-wrapper">\n                  <img class="sidebar__list-img" src="./../../img/svgsprite/stack/svg/sprite.stack.svg#${e.icon}" alt="icon" />\n                  \x3c!-- <img class="sidebar__list-img" src="<?php echo HOST . 'static/img/svgsprite/stack/svg/sprite.stack.svg#shop';?>" alt="icon" /> --\x3e\n                </div>\n                ${e.cat}\n              </button>\n              <ul class="sidebar__list accordion__content">\n                ${e.subCat.map((e=>`\n                    <li class="sidebar__list-item">\n                      <button class="sidebar__list-button sidebar__inner-link" \n                          href="" title="Перейти на страницу редактирования главной страницы сайта">\n                          \x3c!-- href="<?php echo HOST;?>admin/main" title="Перейти на страницу редактирования главной страницы сайта"> --\x3e\n                        <div class="sidebar__list-img-wrapper">\n                          <img class="sidebar__list-img" src="./../../img/svgsprite/stack/svg/sprite.stack.svg#corner" alt="icon" />\n                          \x3c!-- <img class="sidebar__list-img" src="<?php echo HOST . 'static/img/svgsprite/stack/svg/sprite.stack.svg#about-me';?>" alt="icon" /> --\x3e\n                        </div>\n                        ${e}\n                      </button>\n                    </li>\n                  `)).join("")}   \n                </ul>\n              </li>\n            `)(e)),n})).join("");a&&(a.insertAdjacentHTML("beforeend",s),setTimeout((()=>{e("many","#sidebar-tab")}),0))})(),a("#catalog-list")),"/index.html"!==window.location.pathname.trim()&&""!==window.location.pathname.trim()||(()=>{const e=JSON.parse(JSON.stringify(n));console.log(e)})()}))}();